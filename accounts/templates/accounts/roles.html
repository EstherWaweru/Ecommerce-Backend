{% extends "base_copy.html"%} 
{% block page_title %} Home {% endblock page_title %} 
{%block content_wrapper%}
<div class="col-sm-6">
    <ol class="breadcrumb float-sm-right">
      <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Dashboard</a></li>
      
      <li class="breadcrumb-item active">Roles and Permissions</li>
    </ol>
  </div>
{%endblock content_wrapper%}

{%block main_content%}
<section class="content">
    <div class="container-fluid">

        <p>Role Management</p>


 <!-- /.card-header -->
        <div class="card-body table-responsive ">
            <table id="institution-table" class="table  table-hover" data-page-length='10'>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Role/Group Name</th>
                       <!-- <th>Date Created</th> -->
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>

                    {% for group in groups %}
                    <tr>
                        <td>{{ group.id}}</td>
                        <td>{{ group.name }}</td>
                        <td>
                            <a href="{ url 'role_view'  group.id }" class="btn btn-tool ">
                                <i class="fas fa-eye"></i></td>
                        <td>
                            <a href="" class="btn btn-tool">
                                <i class="fas fa-edit"></i>
                            </a>
                        </td>
                    </tr>
                    {% endfor %}

                </tbody>
            </table>
        </div>
        <div id="modal-div">
            <div class="modal fade" id="myEdit" role="dialog">
                <div class="modal-dialog">
                  <form  class="well contact-form" method="post" action="{% url 'role_view'}">
                    {% csrf_token %}
                    <div class="modal-content">
                      <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Modal Header</h4>
                      </div>
                      <div class="modal-body">
                        <label for="usr">Name:</label>
                        <input type="text" class="form-control" required="" name="uss" value="{{ group.name }}" id="uss">
                        <label for="pwd">Password:</label>
                        <input  type="password"  class="form-control" required="" value="{{ group.id }}" name="pwd" id="pwd" >
                      </div>
                      <div class="modal-footer">
                        <button  type="submit" class="btn btn-default">Valider</button>
                        <button  value="" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
              
        </div>

        <!-- /.card-body -->


    </div>
</section>
{%endblock main_content%} 
{% block custom_js %}
<script type="text/javascript">

var modalDiv = $("#modal-div");

$(".open-modal").on("click", function() {
  $.ajax({
    url: $(this).attr("data-url"),
    success: function(data) {
      modalDiv.html(data);
      $("#myEdit").modal();
    }
  });
});
</script>
{%endblock custom_js%}